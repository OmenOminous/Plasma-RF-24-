-- Settings
local on = true
_G.distance = 5  -- Initialize distance

-- Services
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")

-- Function to trigger touch interest
local function triggerTouch(ball, target)
    if ball and target then
        firetouchinterest(ball, target, 0)  -- Start touch
        wait(0.1)  -- Simulate touch duration
        firetouchinterest(ball, target, 1)  -- End touch
    end
end

-- Main loop for reach functionality
RunService.Heartbeat:Connect(function()
    if on then
        local Character = LocalPlayer.Character
        if Character then
            local rootPart = Character:FindFirstChild("HumanoidRootPart")
            if rootPart then
                -- Check for balls directly under workspace
                for _, ball in ipairs(Workspace:GetChildren()) do
                    if ball:IsA("Part") and ball:FindFirstChild("network") then
                        local distanceToBall = (ball.Position - rootPart.Position).Magnitude
                        if distanceToBall <= _G.distance then
                            triggerTouch(ball, rootPart)  -- Trigger touch on RootPart
                        end
                    end
                end
            end
        end
    end
end)

-- Infinite stamina handling
local staminaValue = game.AssetService.controllers.movementController.stamina
RunService.RenderStepped:Connect(function()
    if staminaValue.Value < 100 then
        staminaValue.Value = 100  -- Set stamina to maximum
    end
end)

-- Notify when the script is executed
game.StarterGui:SetCore('SendNotification', {
    Title = 'Script Executed',
    Text = 'Enjoy, Plasma! Infinite stamina and reach set to 5 studs.',
    Duration = 5
})
